{"version":3,"sources":["scripts/main.js"],"names":["target","table","document","querySelector","tableBody","arr","Array","from","rows","isAsc","formatSalary","item","slice","split","join","sortASC","index","cells","textContent","sort","a","b","localeCompare","includes","append","sortDESC","addEventListener","e","tr","closest","currentActive","classList","toggle","tagName","cellIndex","form","createElement","className","after","previousText","input","insertAdjacentHTML","preventDefault","data","FormData","formatter","Intl","NumberFormat","salary","format","get","innerHTML","letter","pushNotification","length","push","posTop","posRight","title","description","type","message","messageTitle","paragraph","style","boxSizing","top","right","body","setTimeout","remove","changeText","targ","td","newText","value","focus","code"],"mappings":"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","file":"main.5ba64e59.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// write code here\n\nconst table = document.querySelector('table');\nconst tableBody = table.querySelector('tbody');\nconst arr = Array.from(tableBody.rows);\nlet isAsc = true;\nlet target;\n\ntable.addEventListener('click', e => {\n  const tr = e.target.closest('TR');\n  const currentActive = table.querySelector('tr.active');\n\n  if (currentActive) {\n    currentActive.classList.toggle('active');\n  }\n\n  tr.classList.toggle('active');\n});\n\ntable.addEventListener('click', e => {\n  if (e.target.tagName !== 'TH') {\n    return;\n  }\n\n  if (target !== e.target) {\n    target = e.target;\n    isAsc = true;\n  }\n\n  if (isAsc) {\n    sortASC(e.target.cellIndex);\n    isAsc = false;\n  } else {\n    sortDESC(e.target.cellIndex);\n    isAsc = true;\n  }\n});\n\nfunction formatSalary(item) {\n  return +item.slice(1).split(',').join('');\n};\n\nfunction sortASC(index) {\n  if (typeof arr[0].cells[index].textContent === 'number') {\n    arr.sort((a, b) => a.cells[index].textContent - b.cells[index].textContent);\n  }\n\n  if (typeof arr[0].cells[index].textContent === 'string') {\n    arr.sort((a, b) => {\n      return a.cells[index].textContent\n        .localeCompare(b.cells[index].textContent);\n    });\n  }\n\n  if (arr[0].cells[index].textContent.includes('$')) {\n    arr.sort((a, b) => {\n      return formatSalary(a.cells[index].textContent)\n        - formatSalary(b.cells[index].textContent);\n    });\n  }\n\n  tableBody.append(...arr);\n}\n\nfunction sortDESC(index) {\n  if (typeof arr[0].cells[index].textContent === 'number') {\n    arr.sort((a, b) => b.cells[index].textContent - a.cells[index].textContent);\n  }\n\n  if (typeof arr[0].cells[index].textContent === 'string') {\n    arr.sort((a, b) => {\n      return b.cells[index].textContent\n        .localeCompare(a.cells[index].textContent);\n    });\n  }\n\n  if (arr[0].cells[index].textContent.includes('$')) {\n    arr.sort((a, b) => {\n      return formatSalary(b.cells[index].textContent)\n        - formatSalary(a.cells[index].textContent);\n    });\n  }\n\n  tableBody.append(...arr);\n}\n\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\ntable.after(form);\n\nconst input = document.createElement('input');\nlet previousText;\n\nform.insertAdjacentHTML('beforeend', `\n  <label>\n    Name:\n    <input\n      name=\"name\"\n      type=\"text\"\n      required\n      data-qa=\"name\"\n    >\n  </label>\n  <label>\n    Position:\n    <input\n      name=\"position\"\n      type=\"text\"\n      required\n      data-qa=\"position\"\n    >\n  </label>\n  <label>\n    Office:\n    <select name=\"office\" required data-qa=\"office\">\n      <option>Tokyo</option>\n      <option>Singapore</option>\n      <option>London</option>\n      <option>New York</option>\n      <option>Edinburgh</option>\n      <option>San Francisco</option>\n    </select>\n  </label>\n  <label>\n    Age:\n    <input\n      name=\"age\"\n      type=\"number\"\n      required\n      data-qa=\"age\"\n    >\n  </label>\n  <label>\n    Salary:\n    <input\n      name=\"salary\"\n      type=\"number\"\n      required\n      data-qa=\"salary\"\n    >\n  </label>\n  <button type=\"submit\">\n    Save to table\n  </button>\n`);\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const tr = document.createElement('tr');\n  const formatter = new Intl.NumberFormat('en-US');\n  const salary = `$${formatter.format(data.get('salary'))}`;\n\n  tr.innerHTML = `\n    <td>${data.get('name')}</td>\n    <td>${data.get('position')}</td>\n    <td>${data.get('office')}</td>\n    <td>${data.get('age')}</td>\n    <td>${salary}</td>\n  `;\n\n  for (const letter of data.get('name')) {\n    if ('0123456789'.includes(letter)) {\n      pushNotification(150, 10, 'Error', 'Your data is incorrect', 'error');\n\n      return;\n    }\n  }\n\n  for (const letter of data.get('position')) {\n    if ('0123456789'.includes(letter)) {\n      pushNotification(150, 10, 'Error', 'Your data is incorrect', 'error');\n\n      return;\n    }\n  }\n\n  if (data.get('name').length < 4\n    || data.get('age') < 18\n    || data.get('age') > 90) {\n    pushNotification(150, 10, 'Error', 'Your data is incorrect', 'error');\n\n    return;\n  }\n\n  tableBody.append(tr);\n  arr.push(tr);\n\n  pushNotification(150, 10, 'Success',\n    'Your data added to the table.', 'success');\n});\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const message = document.createElement('div');\n  const messageTitle = document.createElement('h2');\n  const paragraph = document.createElement('p');\n\n  message.className = `notification ${type}`;\n  message.style.boxSizing = 'content-box';\n  message.style.top = posTop + 'px';\n  message.style.right = posRight + 'px';\n  document.body.append(message);\n\n  messageTitle.className = 'title';\n  messageTitle.textContent = title;\n  message.append(messageTitle);\n\n  paragraph.className = 'description';\n  paragraph.textContent = description;\n  message.append(paragraph);\n\n  setTimeout(() => message.remove(), 2000);\n};\n\n// Change text in cell\ntableBody.addEventListener('dblclick', e => {\n  if (e.target.tagName !== 'TD') {\n    return;\n  }\n\n  previousText = e.target.textContent;\n\n  input.className = 'cell-input';\n\n  e.target.textContent = '';\n  e.target.append(input);\n\n  input.focus();\n});\n\ninput.addEventListener('keypress', e => {\n  if (e.code !== 'Enter') {\n    return;\n  }\n\n  changeText(e.target);\n});\n\ninput.addEventListener('blur', e => {\n  changeText(e.target);\n});\n\nfunction changeText(targ) {\n  const td = targ.closest('TD');\n  let newText = input.value;\n\n  if (td.cellIndex === 0 || td.cellIndex === 1 || td.cellIndex === 2) {\n    for (const letter of input.value) {\n      if ('0123456789'.includes(letter)) {\n        newText = previousText;\n        pushNotification(150, 150, 'Error', 'Your data is incorrect', 'error');\n      }\n    }\n  }\n\n  if (td.cellIndex === 0) {\n    if (input.value.length < 4) {\n      newText = previousText;\n      pushNotification(150, 150, 'Error', 'Your data is incorrect', 'error');\n    }\n  }\n\n  if (td.cellIndex === 3) {\n    if (!+input.value || input.value < 18 || input.value > 90) {\n      newText = previousText;\n      pushNotification(150, 150, 'Error', 'Your data is incorrect', 'error');\n    }\n  }\n\n  if (td.cellIndex === 4) {\n    if (!+input.value) {\n      newText = previousText;\n      pushNotification(150, 150, 'Error', 'Your data is incorrect', 'error');\n    } else {\n      const formatter = new Intl.NumberFormat('en-US');\n      const salary = `$${formatter.format(input.value)}`;\n\n      newText = salary;\n    }\n  }\n\n  if (input.value.length === 0) {\n    td.textContent = previousText;\n  } else {\n    td.textContent = newText;\n  }\n\n  input.value = '';\n}\n"]}